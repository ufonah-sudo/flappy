/* 1. Глобальный сброс для всех браузеров и WebView */
* {
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
}

/* 2. Настройка базовых слоев */
html, body {
    width: 100% !important;
    height: 100% !important;
    height: -webkit-fill-available !important; /* Критично для iOS */
    overflow: hidden !important;
    position: fixed !important; /* Запрещает "резиновый" скролл */
    background-color: #4ec0ca;
    inset: 0 !important;
}

/* 3. Главный контейнер (как в GiftMa) */
#root {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    height: -webkit-fill-available !important;
    display: block !important;
    z-index: 1;
}

/* 4. Канвас (растягиваем по всему #root) */
canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    z-index: 2;
    object-fit: cover; /* Заполняет экран без искажений */
}

/* 5. Слой интерфейса (поверх игры) */
#app-interface {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 10;
    pointer-events: none; /* Пропускает клики на канвас */
}

/* 6. Кнопки и интерактив внутри интерфейса */
#app-interface button, 
#app-interface .clickable {
    pointer-events: auto !important; /* Возвращаем кликабельность кнопкам */
}

/* 7. Все экраны меню */
.screen {
    position: absolute !important;
    inset: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    background: transparent;
}

/* Утилита скрытия */
.hidden {
    display: none !important;
}

/* Пример фикса верхней панели */
#header {
    position: absolute !important;
    top: env(safe-area-inset-top, 15px) !important;
    width: 100% !important;
    display: flex !important;
    justify-content: center !important;
    z-index: 100;
}