/* ==========================================================================
   base.css - TOTAL FULLSCREEN FIX
   ========================================================================== */

/* 1. ЖЕСТКИЙ СБРОС (УБИРАЕМ ВСЕ СИСТЕМНЫЕ ОТСТУПЫ) */
* {
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
    outline: none;
}

/* 2. БАЗОВЫЕ СЛОИ (РАСТЯГИВАЕМ НА ВЕСЬ ЭКРАН) */
html, body {
    width: 100% !important;
    height: 100% !important;
    /* Фикс для iOS: заполняем пространство под челкой и кнопкой Home */
    height: -webkit-fill-available !important;
    position: fixed !important; 
    overflow: hidden !important;
    background-color: #4ec0ca;
    inset: 0 !important;
}

/* 3. ГЛАВНЫЙ КОНТЕЙНЕР (ПО ОБРАЗЦУ GiftMa) */
#root {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    height: -webkit-fill-available !important;
    display: block !important;
    z-index: 1;
}

/* 4. ИГРОВОЙ ХОЛСТ (КАНВАС) */
canvas, #game-canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    z-index: 5;
    /* Убираем размытие и растягиваем контент */
    object-fit: cover;
    image-rendering: -webkit-optimize-contrast;
}

/* 5. ИНТЕРФЕЙС ПОВЕРХ ИГРЫ */
#app-interface {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 10;
    pointer-events: none; /* Клики проходят сквозь пустой интерфейс на игру */
}

/* 6. ЭКРАНЫ И КНОПКИ (ВОЗВРАЩАЕМ КЛИКАБЕЛЬНОСТЬ) */
.screen {
    position: absolute !important;
    inset: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    pointer-events: auto !important; /* Экран ловит клики */
}

button, .clickable, .nav-btn, .mode-card {
    pointer-events: auto !important; /* Кнопки кликабельны */
    cursor: pointer;
}

/* 7. ВЕРХНЯЯ ПАНЕЛЬ (БАЛАНСЫ) */
#header {
    position: absolute !important;
    /* Учитываем безопасную зону сверху (челку) */
    top: env(safe-area-inset-top, 15px) !important;
    width: 100% !important;
    display: flex !important;
    justify-content: center !important;
    z-index: 100;
    pointer-events: none;
}

.header-balances {
    display: flex;
    gap: 15px;
    background: rgba(0, 0, 0, 0.6);
    padding: 8px 20px;
    border-radius: 30px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    pointer-events: auto; /* Плашка ловит клики */
}

/* 8. НИЖНЯЯ ПАНЕЛЬ НАВИГАЦИИ */
.menu-buttons-panel {
    position: absolute !important;
    bottom: 0 !important;
    /* Отступ для полоски iOS Home Indicator */
    padding-bottom: env(safe-area-inset-bottom, 15px) !important;
    left: 0 !important;
    width: 100% !important;
    height: auto !important;
    display: flex !important;
    justify-content: space-around !important;
    align-items: center !important;
    z-index: 200;
    pointer-events: auto !important;
}

/* Скрытие элементов */
.hidden {
    display: none !important;
}